type: object
properties:
  id:
    $ref: 'commons/advance_id.yaml'
  assingee_id:
    $ref: 'commons/employee_id.yaml'
  assignee_email:
    $ref: 'commons/email.yaml'
  assignee:
    $ref: 'minimals/employees.yaml'
  issuer_id:
    allOf:
      - $ref: 'commons/employee_id.yaml'
    description: |
      Employee id of person who issued the advance.
    example: 'ouebvjwgjgl'
  issuer_email:
    allOf:
      - $ref: 'commons/email.yaml'
    description: |
      Email of the person who issued the advance.
    example: 'issuer@example.com'
  issuer:
    allOf:
      - $ref: 'minimals/employees.yaml'
    description: |
      Details for the person who issued the advance.
  amount:
    $ref: 'commons/amount.yaml'
  currency:
    $ref: 'commons/currency.yaml'
  foreign_currency:
    $ref: 'commons/foreign_currency.yaml'
  foreign_amount:
    $ref: 'commons/foreign_amount.yaml'
  advance_request_id:
    $ref: 'commons/advance_request_id.yaml'
  advance_number:
    type: string
    description: |
      An non-unique human readable id to identify an advance within an organisation.
  trip_request_id:
    $ref: 'commons/trip_request_id.yaml'
  created_at:
    $ref: 'commons/created_at.yaml'
  approved_at:
    $ref: 'commons/approved_at.yaml'
  updated_at:
    $ref: 'commons/updated_at.yaml'
  purpose:
    type: string
    description: |
      Descriptive purpose which is added to an advance request.
    example: onsite client meeting
  project_id:
    $ref: 'commons/project_id.yaml'
  project:
    $ref: 'minimals/project.yaml'
  custom_properties:
    $ref: 'custom_properties.yaml'
  org_id:
    $ref: 'commons/org_id.yaml'
  source:
    type: string
    enum:
      - WEBAPP
      - MOBILE
    description: |
      Enum value signifying the client method from which this advance_request was initiated.
    example: WEBAPP
  export_info:
    $ref: 'minimals/export_info.yaml'
  mode:
    type: string
    enum:
      - CASH
      - BANK_TRANSFER
      - FOREX
      - CHEQUE_DD
    example: CASH
  card_number:
    type: string
  reference_code:
    type: string
    description: |
      This is used to store external system's unique identifier.
    example: 'ITIvwowggwng'
  settlement_id:
    type: string
    maxLength: 255
    description: |
      An unique ID, generated by Fyle, for identifying the Settlement.
      Once a Report is paid, the value of this field cannot be changed and is immutable. <br>
    example: 'setzS7mbPKPWg'
  settled_at:
    type: string
    format: date-time
    description: |
      RFC 3339, section 5.6 "https://tools.ietf.org/html/rfc3339#section-5.6" compliant timestamp on which the advance was settled.<br>
    example: '2020-07-23T09:32:00.933Z'
  advance_request_approvals:
    $ref: 'commons/approvals.yaml'